<!DOCTYPE html>
<html>
    <head> <title>Rock, Paper, Scissors</title> <meta charset="UTF-8"> </head>

    <body>

    </body>

    <script>

        //Global variables used within a few functions
        let winner = 0
        let round = 1
        let invalid = 0
        let playScore = 0
        let compScore = 0

        // This function generates a random number corresponding to rock, paper, or scissors, then it stores that as a variable for the computer's choice of move.
        function computerPlay() {
            let comphand = ""
            let randomNumber = (Math.floor(Math.random() * Math.floor(3)))
            if (randomNumber == 2) {
                compHand = "Scissors"
        }   else if (randomNumber == 1) {
                compHand = "Paper"
        }   else if (randomNumber == 0) {
                compHand = "Rock"
        }

        }

        //This function prompts the player to make a non-case-sensitive selection between rock, paper, and scissors, then corrects the capitalization of the player's response, then stores it in a variable.
        //If the player makes a selection that isn't some form of rock, paper, or scissors, it prompts the player to make a valid selection, and then stores that in a variable.
        function playerPlay() {
            playChoice = prompt("Choose One: Rock - Paper - Scissors","")
               if (typeof playChoice == "string") {
                   playChoice = (playChoice.charAt(0).toUpperCase() + playChoice.slice(1).toLowerCase(1))
               }
            if (playChoice == "Rock" || playChoice == "Paper" || playChoice == "Scissors") {
            } else {
                alert("Please make a valid selection.")
                invalid = 1
            }
            
        }
    
        //This function plays one round of Rock, Paper, Scissors, declares the winner, and keeps score of who won the round
        function playRound(playerSelection, computerSelection) {
            computerPlay()
            playerPlay()
            computerSelection = compHand
            playerSelection = playChoice

            if (playerSelection == "Rock" && computerSelection == "Rock" || playerSelection == "Scissors" && computerSelection == "Scissors" || playerSelection == "Paper" && computerSelection == "Paper") {
                console.log("The round is a draw!")
                if (playScore > compScore) {
                    winner = 1
                } else if (playScore < compScore) {
                    winner = 2
                } else if (playScore == compScore) {
                    winner = 0
                }
                console.log("Player: " + playScore + " | " + "Computer: " + compScore)
            } else if (playerSelection == "Rock" && computerSelection == "Scissors" || playerSelection == "Paper" && computerSelection == "Rock" || playerSelection == "Scissors" && computerSelection == "Paper") {
                console.log("You won the round! " + playerSelection + " beats " + computerSelection + ".")
                playScore++
                if (playScore > compScore) {
                    winner = 1
                } else if (playScore < compScore) {
                    winner = 2
                } else if (playScore == compScore) {
                    winner = 0
                }
                console.log("Player: " + playScore + " | " + "Computer: " + compScore)
            } else if (computerSelection == "Rock" && playerSelection == "Scissors" || computerSelection == "Paper" && playerSelection == "Rock" || computerSelection == "Scissors" && playerSelection == "Paper") {
                console.log("Oh no... You lost the round! " + computerSelection + " beats " + playerSelection + ".")
                compScore++
                if (playScore > compScore) {
                    winner = 1
                } else if (playScore < compScore) {
                    winner = 2
                } else if (playScore == compScore) {
                    winner = 0
                } else if (invalid == 1) {
                }
                console.log("Player: " + playScore + " | " + "Computer: " + compScore)
            }

        }


        

        function playGame(playCount, compCount) {
            for (let i = 0; i < 5; i++) {
                console.log("Round " + round + "!")
                round++
                playRound()
                if (round > 5 && winner == 0 && invalid !== 1) {
                    console.log("The game is a draw! No winners here...")
                } else if (round > 5 && winner == 1 && invalid !== 1) {
                    console.log("You won the game!")
                } else if (round > 5 && winner == 2 && invalid !== 1) {
                    console.log("The computer won... You really let that happen?")
                } else if (invalid == 1) {
                    --i
                    --round
                    invalid = 0
                }
            }

        }

        playGame()
    </script>


</html>